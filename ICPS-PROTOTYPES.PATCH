Index: ICPS-PROTOTYPES.PATCH
===================================================================
--- ICPS-PROTOTYPES.PATCH	(revision 20143)
+++ ICPS-PROTOTYPES.PATCH	(working copy)
@@ -1,423 +0,0 @@
-Index: ICPS-PROTOTYPES.PATCH
-===================================================================
---- ICPS-PROTOTYPES.PATCH	(revision 20083)
-+++ ICPS-PROTOTYPES.PATCH	(working copy)
-@@ -1,331 +0,0 @@
--Index: ICPS-PROTOTYPES.PATCH
--===================================================================
----- ICPS-PROTOTYPES.PATCH	(revision 20081)
--+++ ICPS-PROTOTYPES.PATCH	(working copy)
--@@ -1,261 +0,0 @@
---Index: ICPS-PROTOTYPES.PATCH
---===================================================================
------ ICPS-PROTOTYPES.PATCH	(revision 19793)
---+++ ICPS-PROTOTYPES.PATCH	(working copy)
---@@ -1,243 +0,0 @@
----Index: ICPS-PROTOTYPES.PATCH
----===================================================================
------- ICPS-PROTOTYPES.PATCH	(revision 19792)
----+++ ICPS-PROTOTYPES.PATCH	(working copy)
----@@ -1,194 +0,0 @@
-----Index: ICPS-PROTOTYPES.PATCH
-----===================================================================
-------- ICPS-PROTOTYPES.PATCH	(revision 19791)
-----+++ ICPS-PROTOTYPES.PATCH	(working copy)
-----@@ -1,145 +0,0 @@
------Index: ICPS-PROTOTYPES.PATCH
------===================================================================
--------- ICPS-PROTOTYPES.PATCH	(revision 19775)
------+++ ICPS-PROTOTYPES.PATCH	(working copy)
------@@ -1,96 +0,0 @@
-------Index: ICPS-PROTOTYPES.PATCH
-------===================================================================
---------- ICPS-PROTOTYPES.PATCH	(revision 19774)
-------+++ ICPS-PROTOTYPES.PATCH	(working copy)
-------@@ -1,51 +0,0 @@
--------Index: src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java
--------===================================================================
----------- src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(revision 19770)
--------+++ src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(working copy)
--------@@ -11,12 +11,12 @@
-------- 
--------     public final static String ICD_CAUSAL_MECH_METACLASS = NS + "CausalMechanismAndRiskFactorsSection";
--------     public final static String ICD_CLINICAL_DESC_METACLASS = NS + "ClinicalDescriptionSection";
---------    public final static String ICD_DEFINITION_METACLASS = NS + "DefinitionSection";
--------+    public final static String ICD_DEFINITION_METACLASS = "http://who.int/icps#" + "DefinitionSection";
--------     public final static String ICD_FUNCTIONAL_IMPACT_METACLASS = NS + "FunctionalImpactSection";
--------     public final static String ICD_NOTES_METACLASS = NS + "ICD10NotesAndHintsSection";
---------    public final static String ICD_LINEARIZATION_METACLASS = NS + "LinearizationSection";
--------+    public final static String ICD_LINEARIZATION_METACLASS = "http://who.int/icps#" + "LinearizationSection";
--------     public final static String ICD_SNOMED_METACLASS = NS + "SnomedReferenceSection";
---------    public final static String ICD_TERM_METACLASS = NS + "TermSection";
--------+    public final static String ICD_TERM_METACLASS = "http://who.int/icps#" + "TermSection";
--------     public final static String ICD_DIAGNOSTIC_CRITERIA_METACLASS = NS + "DiagnosticCriteriaSection";
--------     public static final String ICD_SPECIFIC_CONDITION_METACLASS = NS + "SpecificConditionSection";
--------     public static final String ICD_EXTERNAL_CAUSE_METACLASS = NS + "ExternalCauseSection";
--------@@ -25,10 +25,10 @@
--------      * Classes
--------      */
-------- 
---------    public final static String ICD_CATEGORY_CLASS = NS + "ICDCategory";
--------+    public final static String ICD_CATEGORY_CLASS = "http://who.int/icd#" + "ICPSCategory";
--------     public final static String CLAML_REF_CLASS = NS + "ClamlReference";
--------     public final static String TERM_CLASS = NS + "Term";
---------    public final static String TERM_TITLE_CLASS = NS + "TitleTerm";
--------+    public final static String TERM_TITLE_CLASS = "http://who.int/icps#" + "TitleTerm";
--------     public final static String TERM_INCLUSION_CLASS = NS + "InclusionTerm";
--------     public final static String TERM_EXCLUSION_CLASS = NS + "ExclusionTerm";
--------     public final static String TERM_ICD10_NOTES_CLASS = NS + "ICD10NotesTerm";
--------@@ -44,7 +44,7 @@
--------      */
-------- 
--------     public final static String ICD_CODE_PROP = NS + "icdCode";
---------    public final static String ICD_TITLE_PROP = NS + "icdTitle";
--------+    public final static String ICD_TITLE_PROP = "http://who.int/icps#" + "icpsTitle";
--------     public final static String CLAML_KIND_PROP = NS + "clamlKind";
--------     public final static String CLAML_USAGE_PROP = NS + "clamlUsage";
--------     public final static String TEXT_PROP = NS + "text";
--------@@ -57,7 +57,7 @@
--------     public final static String EXCLUSION_PROP = NS + "exclusion";
-------- 
--------     public final static String ID_PROP = NS + "id";
---------    public final static String LABEL_PROP = NS + "label";
--------+    public final static String LABEL_PROP = "http://who.int/icd#" + "label";
--------     public final static String LANG_PROP = NS + "language";
--------     public final static String ONTOLOGYID_PROP = NS + "ontologyId";
--------     public final static String CLAML_CONTENT_PROP = NS + "clamlContent";
-------Index: src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java
-------===================================================================
---------- src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(revision 19770)
-------+++ src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(working copy)
-------@@ -11,7 +11,7 @@
------- 
-------     public final static String ICD_CAUSAL_MECH_METACLASS = NS + "CausalMechanismAndRiskFactorsSection";
-------     public final static String ICD_CLINICAL_DESC_METACLASS = NS + "ClinicalDescriptionSection";
--------    public final static String ICD_DEFINITION_METACLASS = NS + "DefinitionSection";
-------+    public final static String ICD_DEFINITION_METACLASS = "http://who.int/icps#" + "DefinitionSection";
-------     public final static String ICD_FUNCTIONAL_IMPACT_METACLASS = NS + "FunctionalImpactSection";
-------     public final static String ICD_NOTES_METACLASS = NS + "ICD10NotesAndHintsSection";
-------     public final static String ICD_LINEARIZATION_METACLASS = NS + "LinearizationSection";
-------@@ -28,7 +28,7 @@
-------     public final static String ICD_CATEGORY_CLASS = NS + "ICDCategory";
-------     public final static String CLAML_REF_CLASS = NS + "ClamlReference";
-------     public final static String TERM_CLASS = NS + "Term";
--------    public final static String TERM_TITLE_CLASS = NS + "TitleTerm";
-------+    public final static String TERM_TITLE_CLASS = "http://who.int/icps#" + "TitleTerm";
-------     public final static String TERM_INCLUSION_CLASS = NS + "InclusionTerm";
-------     public final static String TERM_EXCLUSION_CLASS = NS + "ExclusionTerm";
-------     public final static String TERM_ICD10_NOTES_CLASS = NS + "ICD10NotesTerm";
-------@@ -44,7 +44,7 @@
-------      */
------- 
-------     public final static String ICD_CODE_PROP = NS + "icdCode";
--------    public final static String ICD_TITLE_PROP = NS + "icdTitle";
-------+    public final static String ICD_TITLE_PROP = "http://who.int/icps#" + "icpsTitle";
-------     public final static String CLAML_KIND_PROP = NS + "clamlKind";
-------     public final static String CLAML_USAGE_PROP = NS + "clamlUsage";
-------     public final static String TEXT_PROP = NS + "text";
-------@@ -57,7 +57,7 @@
-------     public final static String EXCLUSION_PROP = NS + "exclusion";
------- 
-------     public final static String ID_PROP = NS + "id";
--------    public final static String LABEL_PROP = NS + "label";
-------+    public final static String LABEL_PROP = "http://who.int/icd#" + "label";
-------     public final static String LANG_PROP = NS + "language";
-------     public final static String ONTOLOGYID_PROP = NS + "ontologyId";
-------     public final static String CLAML_CONTENT_PROP = NS + "clamlContent";
------Index: src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java
------===================================================================
--------- src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(revision 19770)
------+++ src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(working copy)
------@@ -11,7 +11,7 @@
------ 
------     public final static String ICD_CAUSAL_MECH_METACLASS = NS + "CausalMechanismAndRiskFactorsSection";
------     public final static String ICD_CLINICAL_DESC_METACLASS = NS + "ClinicalDescriptionSection";
-------    public final static String ICD_DEFINITION_METACLASS = NS + "DefinitionSection";
------+    public final static String ICD_DEFINITION_METACLASS = "http://who.int/icps#" + "DefinitionSection";
------     public final static String ICD_FUNCTIONAL_IMPACT_METACLASS = NS + "FunctionalImpactSection";
------     public final static String ICD_NOTES_METACLASS = NS + "ICD10NotesAndHintsSection";
------     public final static String ICD_LINEARIZATION_METACLASS = NS + "LinearizationSection";
------@@ -25,10 +25,10 @@
------      * Classes
------      */
------ 
-------    public final static String ICD_CATEGORY_CLASS = NS + "ICDCategory";
------+    public final static String ICD_CATEGORY_CLASS = "http://who.int/icps#" + "ICPSCategory";
------     public final static String CLAML_REF_CLASS = NS + "ClamlReference";
------     public final static String TERM_CLASS = NS + "Term";
-------    public final static String TERM_TITLE_CLASS = NS + "TitleTerm";
------+    public final static String TERM_TITLE_CLASS = "http://who.int/icps#" + "TitleTerm";
------     public final static String TERM_INCLUSION_CLASS = NS + "InclusionTerm";
------     public final static String TERM_EXCLUSION_CLASS = NS + "ExclusionTerm";
------     public final static String TERM_ICD10_NOTES_CLASS = NS + "ICD10NotesTerm";
------@@ -44,7 +44,7 @@
------      */
------ 
------     public final static String ICD_CODE_PROP = NS + "icdCode";
-------    public final static String ICD_TITLE_PROP = NS + "icdTitle";
------+    public final static String ICD_TITLE_PROP = "http://who.int/icps#" + "icpsTitle";
------     public final static String CLAML_KIND_PROP = NS + "clamlKind";
------     public final static String CLAML_USAGE_PROP = NS + "clamlUsage";
------     public final static String TEXT_PROP = NS + "text";
------@@ -57,7 +57,7 @@
------     public final static String EXCLUSION_PROP = NS + "exclusion";
------ 
------     public final static String ID_PROP = NS + "id";
-------    public final static String LABEL_PROP = NS + "label";
------+    public final static String LABEL_PROP = "http://who.int/icd#" + "label";
------     public final static String LANG_PROP = NS + "language";
------     public final static String ONTOLOGYID_PROP = NS + "ontologyId";
------     public final static String CLAML_CONTENT_PROP = NS + "clamlContent";
-----Index: src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java
-----===================================================================
-------- src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(revision 19770)
-----+++ src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(working copy)
-----@@ -11,7 +11,7 @@
----- 
-----     public final static String ICD_CAUSAL_MECH_METACLASS = NS + "CausalMechanismAndRiskFactorsSection";
-----     public final static String ICD_CLINICAL_DESC_METACLASS = NS + "ClinicalDescriptionSection";
------    public final static String ICD_DEFINITION_METACLASS = NS + "DefinitionSection";
-----+    public final static String ICD_DEFINITION_METACLASS = "http://who.int/icps#" + "DefinitionSection";
-----     public final static String ICD_FUNCTIONAL_IMPACT_METACLASS = NS + "FunctionalImpactSection";
-----     public final static String ICD_NOTES_METACLASS = NS + "ICD10NotesAndHintsSection";
-----     public final static String ICD_LINEARIZATION_METACLASS = NS + "LinearizationSection";
-----@@ -25,10 +25,10 @@
-----      * Classes
-----      */
----- 
------    public final static String ICD_CATEGORY_CLASS = NS + "ICDCategory";
-----+    public final static String ICD_CATEGORY_CLASS = "http://who.int/icps#" + "ICPSCategory";
-----     public final static String CLAML_REF_CLASS = NS + "ClamlReference";
-----     public final static String TERM_CLASS = NS + "Term";
------    public final static String TERM_TITLE_CLASS = NS + "TitleTerm";
-----+    public final static String TERM_TITLE_CLASS = "http://who.int/icps#" + "TitleTerm";
-----     public final static String TERM_INCLUSION_CLASS = NS + "InclusionTerm";
-----     public final static String TERM_EXCLUSION_CLASS = NS + "ExclusionTerm";
-----     public final static String TERM_ICD10_NOTES_CLASS = NS + "ICD10NotesTerm";
-----@@ -44,7 +44,7 @@
-----      */
----- 
-----     public final static String ICD_CODE_PROP = NS + "icdCode";
------    public final static String ICD_TITLE_PROP = NS + "icdTitle";
-----+    public final static String ICD_TITLE_PROP = "http://who.int/icps#" + "icpsTitle";
-----     public final static String CLAML_KIND_PROP = NS + "clamlKind";
-----     public final static String CLAML_USAGE_PROP = NS + "clamlUsage";
-----     public final static String TEXT_PROP = NS + "text";
-----@@ -57,7 +57,7 @@
-----     public final static String EXCLUSION_PROP = NS + "exclusion";
----- 
-----     public final static String ID_PROP = NS + "id";
------    public final static String LABEL_PROP = NS + "label";
-----+    public final static String LABEL_PROP = "http://who.int/icps#" + "label";
-----     public final static String LANG_PROP = NS + "language";
-----     public final static String ONTOLOGYID_PROP = NS + "ontologyId";
-----     public final static String CLAML_CONTENT_PROP = NS + "clamlContent";
----Index: src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java
----===================================================================
------- src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(revision 19770)
----+++ src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(working copy)
----@@ -11,7 +11,7 @@
---- 
----     public final static String ICD_CAUSAL_MECH_METACLASS = NS + "CausalMechanismAndRiskFactorsSection";
----     public final static String ICD_CLINICAL_DESC_METACLASS = NS + "ClinicalDescriptionSection";
-----    public final static String ICD_DEFINITION_METACLASS = NS + "DefinitionSection";
----+    public final static String ICD_DEFINITION_METACLASS = "http://who.int/icps#" + "DefinitionSection";
----     public final static String ICD_FUNCTIONAL_IMPACT_METACLASS = NS + "FunctionalImpactSection";
----     public final static String ICD_NOTES_METACLASS = NS + "ICD10NotesAndHintsSection";
----     public final static String ICD_LINEARIZATION_METACLASS = NS + "LinearizationSection";
----@@ -25,10 +25,10 @@
----      * Classes
----      */
---- 
-----    public final static String ICD_CATEGORY_CLASS = NS + "ICDCategory";
----+    public final static String ICD_CATEGORY_CLASS = "http://who.int/icps#" + "ICPSCategory";
----     public final static String CLAML_REF_CLASS = NS + "ClamlReference";
----     public final static String TERM_CLASS = NS + "Term";
-----    public final static String TERM_TITLE_CLASS = NS + "TitleTerm";
----+    public final static String TERM_TITLE_CLASS = "http://who.int/icps#" + "TitleTerm";
----     public final static String TERM_INCLUSION_CLASS = NS + "InclusionTerm";
----     public final static String TERM_EXCLUSION_CLASS = NS + "ExclusionTerm";
----     public final static String TERM_ICD10_NOTES_CLASS = NS + "ICD10NotesTerm";
----@@ -44,7 +44,7 @@
----      */
---- 
----     public final static String ICD_CODE_PROP = NS + "icdCode";
-----    public final static String ICD_TITLE_PROP = NS + "icdTitle";
----+    public final static String ICD_TITLE_PROP = "http://who.int/icps#" + "icpsTitle";
----     public final static String CLAML_KIND_PROP = NS + "clamlKind";
----     public final static String CLAML_USAGE_PROP = NS + "clamlUsage";
----     public final static String TEXT_PROP = NS + "text";
----@@ -57,7 +57,7 @@
----     public final static String EXCLUSION_PROP = NS + "exclusion";
---- 
----     public final static String ID_PROP = NS + "id";
-----    public final static String LABEL_PROP = NS + "label";
----+    public final static String LABEL_PROP = "http://who.int/icps#" + "label";
----     public final static String LANG_PROP = NS + "language";
----     public final static String ONTOLOGYID_PROP = NS + "ontologyId";
----     public final static String CLAML_CONTENT_PROP = NS + "clamlContent";
---Index: src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java
---===================================================================
------ src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(revision 19770)
---+++ src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(working copy)
---@@ -25,7 +25,7 @@
---      * Classes
---      */
--- 
----    public final static String ICD_CATEGORY_CLASS = NS + "ICDCategory";
---+    public final static String ICD_CATEGORY_CLASS = "http://who.int/icps#" + "ICPSCategory";
---     public final static String CLAML_REF_CLASS = NS + "ClamlReference";
---     public final static String TERM_CLASS = NS + "Term";
---     public final static String TERM_TITLE_CLASS = NS + "TitleTerm";
--Index: src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java
--===================================================================
----- src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(revision 20081)
--+++ src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(working copy)
--@@ -25,7 +25,7 @@
--      * Classes
--      */
-- 
---    public final static String ICD_CATEGORY_CLASS = NS + "ICDCategory";
--+    public final static String ICD_CATEGORY_CLASS = "http://who.int/icps#ICPSCategory";
--     public final static String CLAML_REF_CLASS = NS + "ClamlReference";
--     public final static String TERM_CLASS = NS + "Term";
--     public final static String TERM_TITLE_CLASS = NS + "TitleTerm";
--Index: src/edu/stanford/bmir/icd/claml/ICDContentModel.java
--===================================================================
----- src/edu/stanford/bmir/icd/claml/ICDContentModel.java	(revision 20081)
--+++ src/edu/stanford/bmir/icd/claml/ICDContentModel.java	(working copy)
--@@ -1,13 +1,10 @@
-- package edu.stanford.bmir.icd.claml;
-- 
---import java.util.ArrayList;
---import java.util.Collection;
---import java.util.Iterator;
---import java.util.LinkedHashSet;
---import java.util.Set;
--+import java.util.*;
-- import java.util.logging.Level;
-- import java.util.logging.Logger;
-- 
--+import edu.stanford.smi.protege.model.Cls;
-- import edu.stanford.smi.protege.model.Instance;
-- import edu.stanford.smi.protege.util.CollectionUtilities;
-- import edu.stanford.smi.protege.util.IDGenerator;
--@@ -205,6 +202,19 @@
--         return externalCausesMetaclasses;
--     }
-- 
--+    @SuppressWarnings({ "deprecation", "unchecked" })
--+    public Collection<RDFSNamedClass> getMetaclasses(RDFSNamedClass clazz) {
--+        Collection<RDFSNamedClass> collection = new HashSet<RDFSNamedClass> ();
--+        if (clazz == null || clazz.equals(getICDCategoryClass())) {
--+            return collection;
--+        }
--+        final Collection<Cls> clsCollection = clazz.getDirectSuperclasses();
--+        for (Cls cls : clsCollection) {
--+            collection.addAll(new ArrayList<RDFSNamedClass>(cls.getDirectTypes()));
--+        }
--+        return collection;
--+    }
--+
--     public Collection<RDFResource> getLinearizationValueSet() {
--         if (linearizationValueSet == null) {
--             linearizationValueSet = new ArrayList<RDFResource>(getLinearizationViewClass().getInstances(true));
--@@ -568,8 +578,9 @@
--             }
--         }
-- 
---        //set metaclasses
---        cls.setDirectTypes(isExternalCause ? getExternalCauseMetaclasses() : getRegularDiseaseMetaclasses());
--+        Collection<RDFSNamedClass> coll = new HashSet<RDFSNamedClass>(getMetaclasses(cls));
--+        coll.remove(owlModel.getRDFSNamedClass("http://www.w3.org/2002/07/owl#Class"));
--+        cls.setDirectTypes(coll);        
-- 
--         RDFSNamedClass singleParent = superclses.size() > 1 ? null : CollectionUtilities.getFirstItem(superclses);
-- 
-Index: src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java
-===================================================================
---- src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(revision 20081)
-+++ src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(working copy)
-@@ -25,7 +25,7 @@
-      * Classes
-      */
- 
--    public final static String ICD_CATEGORY_CLASS = NS + "ICDCategory";
-+    public final static String ICD_CATEGORY_CLASS = "http://who.int/icps#ICPSCategory";
-     public final static String CLAML_REF_CLASS = NS + "ClamlReference";
-     public final static String TERM_CLASS = NS + "Term";
-     public final static String TERM_TITLE_CLASS = NS + "TitleTerm";
-Index: src/edu/stanford/bmir/icd/claml/ICDContentModel.java
-===================================================================
---- src/edu/stanford/bmir/icd/claml/ICDContentModel.java	(revision 20081)
-+++ src/edu/stanford/bmir/icd/claml/ICDContentModel.java	(working copy)
-@@ -1,13 +1,10 @@
- package edu.stanford.bmir.icd.claml;
- 
--import java.util.ArrayList;
--import java.util.Collection;
--import java.util.Iterator;
--import java.util.LinkedHashSet;
--import java.util.Set;
-+import java.util.*;
- import java.util.logging.Level;
- import java.util.logging.Logger;
- 
-+import edu.stanford.smi.protege.model.Cls;
- import edu.stanford.smi.protege.model.Instance;
- import edu.stanford.smi.protege.util.CollectionUtilities;
- import edu.stanford.smi.protege.util.IDGenerator;
-@@ -205,6 +202,19 @@
-         return externalCausesMetaclasses;
-     }
- 
-+    @SuppressWarnings({ "deprecation", "unchecked" })
-+    public Collection<RDFSNamedClass> getMetaclasses(RDFSNamedClass clazz) {
-+        Collection<RDFSNamedClass> collection = new HashSet<RDFSNamedClass> ();
-+        if (clazz == null || clazz.equals(getICDCategoryClass())) {
-+            return collection;
-+        }
-+        final Collection<Cls> clsCollection = clazz.getDirectSuperclasses();
-+        for (Cls cls : clsCollection) {
-+            collection.addAll(new ArrayList<RDFSNamedClass>(cls.getDirectTypes()));
-+        }
-+        return collection;
-+    }
-+
-     public Collection<RDFResource> getLinearizationValueSet() {
-         if (linearizationValueSet == null) {
-             linearizationValueSet = new ArrayList<RDFResource>(getLinearizationViewClass().getInstances(true));
-@@ -568,30 +578,10 @@
-             }
-         }
- 
--        //set metaclasses
--        cls.setDirectTypes(isExternalCause ? getExternalCauseMetaclasses() : getRegularDiseaseMetaclasses());
-+        Collection<RDFSNamedClass> coll = new HashSet<RDFSNamedClass>(getMetaclasses(cls));
-+        coll.remove(owlModel.getRDFSNamedClass("http://www.w3.org/2002/07/owl#Class"));
-+        cls.setDirectTypes(coll);        
- 
--        RDFSNamedClass singleParent = superclses.size() > 1 ? null : CollectionUtilities.getFirstItem(superclses);
--
--        //add linearization instances
--        for (RDFResource linView : getLinearizationValueSet()) {
--            RDFResource linSpec = getLinearizationSpecificationClass().createInstance(IDGenerator.getNextUniqueId());
--            linSpec.setPropertyValue(getLinearizationViewProperty(), linView);
--            if (singleParent != null) {
--                linSpec.setPropertyValue(getLinearizationParentProperty(), singleParent);
--            }
--            cls.addPropertyValue(getLinearizationProperty(), linSpec);
--            //default for new properties: morbidity: included; mortality: not included
--            if (linView.getName().equals(ICDContentModelConstants.LINEARIZATION_VIEW_MORBIDITY)) {
--                linSpec.setPropertyValue(getIsIncludedInLinearizationProperty(), Boolean.TRUE);
--            } else if (linView.getName().equals(ICDContentModelConstants.LINEARIZATION_VIEW_MORTALITY)) {
--                linSpec.setPropertyValue(getIsIncludedInLinearizationProperty(), Boolean.FALSE);
--            }
--        }
--
--        //set biologicalSex not applicable
--        cls.addPropertyValue(getBiologicalSexProperty(), owlModel.getRDFResource(ICDContentModelConstants.BIOLOGICAL_SEX_NA));
--
-         return cls;
-     }
- 
Index: src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java
===================================================================
--- src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(revision 20143)
+++ src/edu/stanford/bmir/icd/claml/ICDContentModelConstants.java	(working copy)
@@ -25,7 +25,7 @@
      * Classes
      */
 
-    public final static String ICD_CATEGORY_CLASS = NS + "ICDCategory";
+    public final static String ICD_CATEGORY_CLASS = "http://who.int/icps#ICPSCategory";
     public final static String CLAML_REF_CLASS = NS + "ClamlReference";
     public final static String TERM_CLASS = NS + "Term";
     public final static String TERM_TITLE_CLASS = NS + "TitleTerm";
Index: src/edu/stanford/bmir/icd/claml/ICDContentModel.java
===================================================================
--- src/edu/stanford/bmir/icd/claml/ICDContentModel.java	(revision 20143)
+++ src/edu/stanford/bmir/icd/claml/ICDContentModel.java	(working copy)
@@ -1,13 +1,10 @@
 package edu.stanford.bmir.icd.claml;
 
-import java.util.ArrayList;
-import java.util.Collection;
-import java.util.Iterator;
-import java.util.LinkedHashSet;
-import java.util.Set;
+import java.util.*;
 import java.util.logging.Level;
 import java.util.logging.Logger;
 
+import edu.stanford.smi.protege.model.Cls;
 import edu.stanford.smi.protege.model.Instance;
 import edu.stanford.smi.protege.util.CollectionUtilities;
 import edu.stanford.smi.protege.util.IDGenerator;
@@ -205,6 +202,19 @@
         return externalCausesMetaclasses;
     }
 
+    @SuppressWarnings({ "deprecation", "unchecked" })
+    public Collection<RDFSNamedClass> getMetaclasses(RDFSNamedClass clazz) {
+        Collection<RDFSNamedClass> collection = new HashSet<RDFSNamedClass> ();
+        if (clazz == null || clazz.equals(getICDCategoryClass())) {
+            return collection;
+        }
+        final Collection<Cls> clsCollection = clazz.getDirectSuperclasses();
+        for (Cls cls : clsCollection) {
+            collection.addAll(new ArrayList<RDFSNamedClass>(cls.getDirectTypes()));
+        }
+        return collection;
+    }
+
     public Collection<RDFResource> getLinearizationValueSet() {
         if (linearizationValueSet == null) {
             linearizationValueSet = new ArrayList<RDFResource>(getLinearizationViewClass().getInstances(true));
@@ -568,30 +578,12 @@
             }
         }
 
-        //set metaclasses
-        cls.setDirectTypes(isExternalCause ? getExternalCauseMetaclasses() : getRegularDiseaseMetaclasses());
-
-        RDFSNamedClass singleParent = superclses.size() > 1 ? null : CollectionUtilities.getFirstItem(superclses);
-
-        //add linearization instances
-        for (RDFResource linView : getLinearizationValueSet()) {
-            RDFResource linSpec = getLinearizationSpecificationClass().createInstance(IDGenerator.getNextUniqueId());
-            linSpec.setPropertyValue(getLinearizationViewProperty(), linView);
-            if (singleParent != null) {
-                linSpec.setPropertyValue(getLinearizationParentProperty(), singleParent);
-            }
-            cls.addPropertyValue(getLinearizationProperty(), linSpec);
-            //default for new properties: morbidity: included; mortality: not included
-            if (linView.getName().equals(ICDContentModelConstants.LINEARIZATION_VIEW_MORBIDITY)) {
-                linSpec.setPropertyValue(getIsIncludedInLinearizationProperty(), Boolean.TRUE);
-            } else if (linView.getName().equals(ICDContentModelConstants.LINEARIZATION_VIEW_MORTALITY)) {
-                linSpec.setPropertyValue(getIsIncludedInLinearizationProperty(), Boolean.FALSE);
-            }
+        Collection<RDFSNamedClass> coll = new HashSet<RDFSNamedClass>(getMetaclasses(cls));
+        coll.remove(owlModel.getRDFSNamedClass("http://www.w3.org/2002/07/owl#Class"));
+        if (!coll.isEmpty()){
+            cls.setDirectTypes(coll);
         }
 
-        //set biologicalSex not applicable
-        cls.addPropertyValue(getBiologicalSexProperty(), owlModel.getRDFResource(ICDContentModelConstants.BIOLOGICAL_SEX_NA));
-
         return cls;
     }
 
